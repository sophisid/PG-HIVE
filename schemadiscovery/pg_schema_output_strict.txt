-- NODE TYPES --
CREATE NODE TYPE PlaceType : Place {type STRING, name STRING, id STRING, url STRING, OPTIONAL  STRING};
CREATE NODE TYPE PersonType : Person {browserUsed STRING, lastName STRING, firstName STRING, gender STRING, id STRING, locationIP STRING, creationDate STRING, birthday STRING, OPTIONAL  STRING};
CREATE NODE TYPE EmailType : Email {address STRING, OPTIONAL  STRING};

-- EDGE TYPES --
CREATE EDGE TYPE is_located_inType : IS_LOCATED_IN;
CREATE EDGE TYPE has_emailType : HAS_EMAIL;
CREATE EDGE TYPE is_part_ofType : IS_PART_OF;

CREATE GRAPH TYPE NewGraphSchema STRICT {
  (PlaceType),
  (PersonType),
  (EmailType),
  (:PersonType)-[is_located_inType]->(:PlaceType),
  (:PersonType)-[has_emailType]->(:EmailType),
  (:PlaceType)-[is_part_ofType]->(:PlaceType),

  // Constraints
  FOR (x:EmailType) SINGLETON x WITHIN (:PersonType)-[y: has_emailType]->(x)
  FOR (x:PlaceType) SINGLETON y WITHIN (x)-[y: is_part_ofType]->(:PlaceType)
}
